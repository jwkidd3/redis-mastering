<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RESP Protocol & CLI for Business Data</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/white.min.css">
    <style>
        :root {
            --r-main-font: 'Arial', sans-serif;
            --r-heading-font: 'Arial', sans-serif;
            --r-main-font-size: 32px;
            --r-heading1-size: 2.2em;
            --r-heading2-size: 1.8em;
            --r-heading3-size: 1.4em;
        }
        
        .reveal .slides section {
            text-align: left;
            font-size: var(--r-main-font-size);
        }
        
        .reveal h1, .reveal h2, .reveal h3 {
            text-align: center;
            text-transform: none;
            margin-bottom: 30px;
        }
        
        .title-block {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 40px;
            border-radius: 10px;
            text-align: center;
            color: #2c3e50;
            margin: 20px 0;
        }
        
        .session-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        
        .lab-callout {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            border-left: 8px solid #e17055;
            padding: 25px;
            margin: 25px 0;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            text-align: center;
        }
        
        .protocol-box {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            font-size: 0.8em;
            line-height: 1.4;
        }
        
        .data-type {
            background: #4a5568;
            color: #90cdf4;
            padding: 8px 12px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 5px;
            display: inline-block;
            font-size: 0.7em;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
            border: 2px solid #28a745;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .monitoring-panel {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.75em;
            border: 2px solid #4a5568;
        }
        
        .command-example {
            background: #2d3748;
            color: #68d391;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            font-size: 0.8em;
            border-left: 4px solid #68d391;
        }
        
        .reveal ul, .reveal ol {
            font-size: 0.9em;
            line-height: 1.4;
        }
        
        .reveal li {
            margin: 8px 0;
        }
        
        .performance-metric {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <!-- Title Slide -->
            <section>
                <div class="title-block">
                    <h1>RESP Protocol & CLI for Business Data</h1>
                    <p style="font-size: 1.2em; margin-top: 20px;">
                        <strong>Session 2</strong> â€¢ Redis Mastering Course<br>
                        Deep Dive into Protocol Communication
                    </p>
                </div>
            </section>

            <!-- Session Overview -->
            <section>
                <div class="session-header">
                    <h2>Session Overview</h2>
                </div>
                <div style="font-size: 0.9em;">
                    <h3>What We'll Cover Today</h3>
                    <ul>
                        <li><strong>RESP Protocol Fundamentals</strong> - Communication between client and server</li>
                        <li><strong>Protocol Data Types</strong> - Understanding the 5 core RESP types</li>
                        <li><strong>Advanced CLI Features</strong> - Professional monitoring and debugging</li>
                        <li><strong>Redis Insight Integration</strong> - GUI-based protocol analysis</li>
                        <li><strong>Performance Monitoring</strong> - Real-time system observation</li>
                        <li><strong>Business Data Patterns</strong> - Protocol efficiency for enterprise workloads</li>
                    </ul>
                </div>
            </section>

            <!-- RESP Protocol Introduction -->
            <section>
                <h2>RESP Protocol Deep Dive</h2>
                <div style="font-size: 0.85em;">
                    <h3>Redis Serialization Protocol (RESP)</h3>
                    <div class="highlight-box">
                        <p><strong>RESP is Redis's communication language</strong> - the protocol that carries every command and response between clients and Redis server.</p>
                    </div>
                    
                    <h4>Key Characteristics:</h4>
                    <ul>
                        <li><strong>Text-based</strong> - Human readable and debuggable</li>
                        <li><strong>Simple</strong> - Easy to implement and parse</li>
                        <li><strong>Fast</strong> - Optimized for high-performance operations</li>
                        <li><strong>Language-agnostic</strong> - Works with any programming language</li>
                        <li><strong>Bi-directional</strong> - Supports commands and responses</li>
                    </ul>
                </div>
            </section>

            <!-- RESP Data Types Part 1 -->
            <section>
                <h2>RESP Data Types - Part 1</h2>
                <div style="font-size: 0.8em;">
                    <h3>The 5 Core RESP Data Types</h3>
                    
                    <h4>1. Simple Strings <span class="data-type">+</span></h4>
                    <div class="protocol-box">
+OK\r\n
+PONG\r\n
+QUEUED\r\n</div>
                    <p>Used for: Status responses, simple confirmations</p>
                    
                    <h4>2. Errors <span class="data-type">-</span></h4>
                    <div class="protocol-box">
-ERR unknown command 'INVALID'\r\n
-WRONGTYPE Operation against a key holding the wrong kind of value\r\n</div>
                    <p>Used for: Error messages and exceptions</p>
                </div>
            </section>

            <!-- RESP Data Types Part 2 -->
            <section>
                <h2>RESP Data Types - Part 2</h2>
                <div style="font-size: 0.8em;">
                    <h4>3. Integers <span class="data-type">:</span></h4>
                    <div class="protocol-box">
:42\r\n
:1000\r\n
:0\r\n</div>
                    <p>Used for: Counters, lengths, boolean values (0/1)</p>
                    
                    <h4>4. Bulk Strings <span class="data-type">$</span></h4>
                    <div class="protocol-box">
$5\r\nhello\r\n
$12\r\npolicy:12345\r\n
$-1\r\n  (null value)</div>
                    <p>Used for: String data, policy numbers, customer IDs</p>
                </div>
            </section>

            <!-- RESP Data Types Part 3 -->
            <section>
                <h2>RESP Data Types - Part 3</h2>
                <div style="font-size: 0.8em;">
                    <h4>5. Arrays <span class="data-type">*</span></h4>
                    <div class="protocol-box">
*2\r\n$3\r\nfoo\r\n$3\r\nbar\r\n
*3\r\n:1\r\n:2\r\n:3\r\n
*0\r\n  (empty array)
*-1\r\n (null array)</div>
                    <p>Used for: Multiple responses, command arguments, batch operations</p>
                    
                    <div class="highlight-box">
                        <p><strong>Complex Example:</strong> MGET command with multiple keys</p>
                        <div class="protocol-box">
*4\r\n$4\r\nMGET\r\n$12\r\npolicy:12345\r\n$12\r\npolicy:67890\r\n$12\r\npolicy:11111\r\n</div>
                    </div>
                </div>
            </section>

            <!-- Command Structure -->
            <section>
                <h2>Command Structure for Business Data</h2>
                <div style="font-size: 0.85em;">
                    <h3>How Commands Are Sent</h3>
                    <div class="command-example">
# Client sends: SET policy:12345 "active"
*3\r\n$3\r\nSET\r\n$12\r\npolicy:12345\r\n$6\r\nactive\r\n

# Server responds:
+OK\r\n</div>
                    
                    <h4>Command Breakdown:</h4>
                    <ul>
                        <li><strong>*3</strong> - Array with 3 elements (command + 2 arguments)</li>
                        <li><strong>$3\r\nSET</strong> - Command name (3 bytes: "SET")</li>
                        <li><strong>$12\r\npolicy:12345</strong> - Key (12 bytes)</li>
                        <li><strong>$6\r\nactive</strong> - Value (6 bytes: "active")</li>
                    </ul>
                </div>
            </section>

            <!-- Redis CLI Advanced Features -->
            <section>
                <h2>Advanced CLI Features</h2>
                <div style="font-size: 0.8em;">
                    <h3>Professional Monitoring Tools</h3>
                    
                    <h4>Real-time Protocol Monitoring</h4>
                    <div class="command-example">redis-cli monitor</div>
                    
                    <h4>Raw Protocol Communication</h4>
                    <div class="command-example">echo -e "*1\r\n\$4\r\nPING\r\n" | nc localhost 6379</div>
                    
                    <h4>Latency Analysis</h4>
                    <div class="command-example">redis-cli --latency-history -i 1</div>
                    
                    <h4>Client Connection Analysis</h4>
                    <div class="command-example">redis-cli CLIENT LIST</div>
                </div>
            </section>

            <!-- Monitoring Business Systems -->
            <section>
                <h2>Monitoring Business System Performance</h2>
                <div style="font-size: 0.75em;">
                    <h3>Live Protocol Observation</h3>
                    <div class="monitoring-panel">
1641234567.123456 [0 127.0.0.1:54321] "SET" "policy:12345" "active"
1641234567.234567 [0 127.0.0.1:54321] "GET" "policy:12345"
1641234567.345678 [0 127.0.0.1:54322] "HSET" "customer:67890" "status" "verified"
1641234567.456789 [0 127.0.0.1:54323] "LPUSH" "claims:pending" "claim:99999"</div>
                    
                    <h4>What We Can Observe:</h4>
                    <ul>
                        <li><strong>Timestamp</strong> - Exact timing of operations</li>
                        <li><strong>Database</strong> - Which Redis database [0]</li>
                        <li><strong>Client</strong> - IP address and port of client</li>
                        <li><strong>Command</strong> - Exact Redis command executed</li>
                        <li><strong>Arguments</strong> - Keys and values being processed</li>
                    </ul>
                </div>
            </section>

            <!-- Redis Insight Interface -->
            <section>
                <h2>Redis Insight GUI Analysis</h2>
                <div style="font-size: 0.85em;">
                    <h3>Visual Protocol Monitoring</h3>
                    
                    <div class="highlight-box">
                        <h4>Redis Insight Features for Protocol Analysis:</h4>
                        <ul>
                            <li><strong>Profiler</strong> - Real-time command monitoring with timing</li>
                            <li><strong>SlowLog</strong> - Automatic slow query detection</li>
                            <li><strong>Memory Analysis</strong> - Data structure memory usage</li>
                            <li><strong>CLI Integration</strong> - Built-in command-line interface</li>
                            <li><strong>Performance Metrics</strong> - Throughput and latency graphs</li>
                        </ul>
                    </div>
                    
                    <div class="performance-metric">
                        Redis Insight provides visual analysis of RESP protocol efficiency
                    </div>
                </div>
            </section>

            <!-- Performance Monitoring -->
            <section>
                <h2>Performance Monitoring for High-Volume Transactions</h2>
                <div style="font-size: 0.8em;">
                    <h3>Key Performance Indicators</h3>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="performance-metric">
                            <strong>Commands/Second</strong><br>
                            Throughput Measurement
                        </div>
                        <div class="performance-metric">
                            <strong>Latency Patterns</strong><br>
                            Response Time Analysis
                        </div>
                    </div>
                    
                    <h4>Advanced Monitoring Commands:</h4>
                    <div class="command-example">
# Enable latency monitoring (100 microsecond threshold)
CONFIG SET latency-monitor-threshold 100

# View slow queries
SLOWLOG GET 10

# Memory usage analysis
MEMORY USAGE policy:12345</div>
                </div>
            </section>

            <!-- Business Data Patterns -->
            <section>
                <h2>Protocol Efficiency for Business Data</h2>
                <div style="font-size: 0.8em;">
                    <h3>Optimizing Protocol Communication</h3>
                    
                    <h4>Efficient Patterns:</h4>
                    <div class="highlight-box">
                        <ul>
                            <li><strong>Batch Operations</strong> - MSET/MGET for multiple policies</li>
                            <li><strong>Pipeline Commands</strong> - Reduce network round trips</li>
                            <li><strong>Appropriate Data Types</strong> - Choose optimal structures</li>
                            <li><strong>Key Naming</strong> - Consistent, scannable patterns</li>
                        </ul>
                    </div>
                    
                    <h4>Example: Batch vs Individual</h4>
                    <div class="command-example">
# Less Efficient: Individual commands (3 round trips)
SET policy:001 "active"
SET policy:002 "pending" 
SET policy:003 "expired"

# More Efficient: Batch command (1 round trip)
MSET policy:001 "active" policy:002 "pending" policy:003 "expired"</div>
                </div>
            </section>

            <!-- Debugging Protocol Issues -->
            <section>
                <h2>Debugging Protocol Issues</h2>
                <div style="font-size: 0.8em;">
                    <h3>Common Protocol Problems</h3>
                    
                    <h4>1. Connection Issues</h4>
                    <div class="command-example">
# Test basic connectivity
redis-cli ping

# Check client connections
redis-cli CLIENT LIST | grep addr</div>
                    
                    <h4>2. Command Parsing Errors</h4>
                    <div class="protocol-box">
-ERR wrong number of arguments for 'set' command\r\n
-WRONGTYPE Operation against a key holding the wrong kind of value\r\n</div>
                    
                    <h4>3. Performance Issues</h4>
                    <div class="command-example">
# Monitor slow queries
redis-cli --latency

# Check memory usage patterns  
redis-cli --bigkeys</div>
                </div>
            </section>

            <!-- Lab Callout Slide -->
            <section>
                <div class="lab-callout">
                    <h2>ðŸ§ª Hands-On Labs Coming Up</h2>
                    <p><strong>Lab 2:</strong> RESP Protocol for Business Data Processing</p>
                    <p><strong>Duration:</strong> 45 minutes</p>
                    <p><strong>Lab 3:</strong> Business Data Operations with Strings</p>
                    <p><strong>Duration:</strong> 45 minutes</p>
                    <hr style="margin: 20px 0; border: 1px solid #e17055;">
                    <p><em>Next 90 minutes: Deep protocol analysis and practical command execution</em></p>
                </div>
            </section>

            <!-- Key Takeaways -->
            <section>
                <h2>Key Takeaways</h2>
                <div style="font-size: 0.9em;">
                    <div class="highlight-box">
                        <h3>RESP Protocol Mastery</h3>
                        <ul>
                            <li><strong>Understanding the 5 data types</strong> enables effective debugging</li>
                            <li><strong>Real-time monitoring</strong> provides insight into system performance</li>
                            <li><strong>Protocol efficiency</strong> directly impacts application performance</li>
                            <li><strong>Visual tools</strong> complement command-line analysis</li>
                            <li><strong>Proper debugging techniques</strong> accelerate problem resolution</li>
                        </ul>
                    </div>
                    
                    <div class="performance-metric">
                        Master RESP â†’ Better Performance â†’ Faster Debugging â†’ Production Success
                    </div>
                </div>
            </section>

            <!-- Questions -->
            <section>
                <div class="session-header">
                    <h2>Questions & Discussion</h2>
                    <p style="font-size: 0.8em; margin-top: 20px;">
                        Ready to dive into hands-on protocol analysis?
                    </p>
                </div>
            </section>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            transition: 'slide',
            transitionSpeed: 'default',
            backgroundTransition: 'fade'
        });
    </script>
</body>
</html>