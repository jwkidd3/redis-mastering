# Redis Configuration for Insurance Applications
# Optimized for policy management, claims processing, and customer data

# === MEMORY CONFIGURATION ===
maxmemory 256mb
maxmemory-policy allkeys-lru

# === PERSISTENCE CONFIGURATION ===
# Save snapshots for insurance data protection
save 900 1     # Save if at least 1 key changed in 900 seconds
save 300 10    # Save if at least 10 keys changed in 300 seconds  
save 60 10000  # Save if at least 10000 keys changed in 60 seconds

# === NETWORK CONFIGURATION ===
bind 127.0.0.1
port 6379
timeout 0
tcp-keepalive 300

# === LOGGING ===
loglevel notice
logfile ""

# === CLIENT CONNECTION ===
# Allow sufficient connections for insurance portal users
maxclients 10000

# === PERFORMANCE TUNING ===
# Optimize for insurance data access patterns
hash-max-ziplist-entries 512
hash-max-ziplist-value 64
list-max-ziplist-size -2
set-max-intset-entries 512
zset-max-ziplist-entries 128
zset-max-ziplist-value 64

# === SECURITY ===
# Basic security for insurance data
# requirepass your_insurance_redis_password_here
# rename-command FLUSHDB ""
# rename-command FLUSHALL ""
