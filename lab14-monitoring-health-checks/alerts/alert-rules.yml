groups:
  - name: redis_alerts
    interval: 30s
    rules:
      - alert: RedisDown
        expr: up{job="redis"} == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "Redis instance down"
          description: "Redis instance has been down for more than 1 minute"
      
      - alert: HighMemoryUsage
        expr: redis_memory_usage_bytes / redis_memory_max_bytes > 0.9
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "High Redis memory usage"
          description: "Redis memory usage is above 90%"
      
      - alert: HighQueueLength
        expr: queue_length{queue_name="claims:pending"} > 100
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: "High claims queue length"
          description: "Pending claims queue has more than 100 items"
      
      - alert: SlowQueries
        expr: redis_slow_queries_total > 10
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "Multiple slow queries detected"
          description: "More than 10 slow queries in the last 5 minutes"
